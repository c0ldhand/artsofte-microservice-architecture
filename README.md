# üè™ –£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç ‚Äî –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (Microservices Architecture)

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç **¬´–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å¬ª**, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ**.


## ‚öôÔ∏è –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

| –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|-----------|
| **Identity microservice** | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å / –∞–¥–º–∏–Ω) |
| **Payment microservice** | –û–ø–ª–∞—Ç–∞ —Ç–æ–≤–∞—Ä–∞, –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–∫—É–ø–æ–∫ |
| **Order microservice** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤, —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ |
| **Catalog microservice** | CRUD —Ç–æ–≤–∞—Ä–æ–≤, –ø–æ–∏—Å–∫, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ |
| **Cart microservice** | –ö–æ—Ä–∑–∏–Ω–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ |
| **Notifications microservice** | –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é |
| **Review microservice** | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –∏ –æ—Ü–µ–Ω–æ–∫ –∫ —Ç–æ–≤–∞—Ä–∞–º |

---

## üí° –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. üë§ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
2. üí≥ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º  
3. üõ†Ô∏è –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (CRUD)  
4. ‚≠ê –û—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –∏ –æ—Ü–µ–Ω–æ–∫ –∫ —Ç–æ–≤–∞—Ä–∞–º  
5. üîî –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π  
6. üöö –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–∞:  
   - —Å–æ–∑–¥–∞–Ω  
   - –Ω–∞ —Å–∫–ª–∞–¥–µ  
   - –≤ –ø—É—Ç–∏  
   - –¥–æ—Å—Ç–∞–≤–ª–µ–Ω  
   - –æ—Ç–º–µ–Ω–µ–Ω  
7. üõçÔ∏è –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–æ–∏—Å–∫–æ–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏  

---

## üß© –°—É—â–Ω–æ—Å—Ç–∏ **Identity microservice**

### –¢–∞–±–ª–∏—Ü–∞ `Users`

| –ü–æ–ª–µ | –¢–∏–ø –≤ –ë–î | –¢–∏–ø –≤ C# |
|------|-----------|----------|
| Id | `uuid` | `Guid` |
| Name | `text` | `string` |
| Email | `text` | `string` |
| RoleId | `uuid` | `Guid` |
| PasswordHash | `text` | `string` |
| Created | `timestamp with time zone` | `DateTime` |
| Updated | `timestamp with time zone` | `DateTime` |

---

### –¢–∞–±–ª–∏—Ü–∞ `Roles`

| –ü–æ–ª–µ | –¢–∏–ø –≤ –ë–î | –¢–∏–ø –≤ C# |
|------|-----------|----------|
| Id | `uuid` | `Guid` |
| Name | `text` | `string` |

---

### –¢–∞–±–ª–∏—Ü–∞ `RefreshTokens`

| –ü–æ–ª–µ | –¢–∏–ø –≤ –ë–î | –¢–∏–ø –≤ C# |
|------|-----------|----------|
| Id | `uuid` | `Guid` |
| UserId | `uuid` | `Guid` |
| Token | `text` | `string` |
| ExpiresOn | `timestamp with time zone` | `DateTime` |
| IsRevoked | `bool` | `bool` |

---

## üîó API Endpoints (Identity Service)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|-----------|
| **POST** | `/api/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **POST** | `/api/auth/login` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **POST** | `/api/auth/admin/login` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| **POST** | `/api/auth/refresh` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Access Token –ø–æ Refresh Token |
| **GET** | `/api/roles` | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–æ–ª–µ–π |
| **POST** | `/api/roles` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ä–æ–ª–∏ |
| **GET** | `/api/roles/{id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ ID |
| **PUT** | `/api/roles/{id}` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏ |
| **DELETE** | `/api/roles/{id}` | –£–¥–∞–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ |
| **GET** | `/api/users` | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| **GET** | `/api/users/{id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID |
| **PUT** | `/api/users/{id}` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **DELETE** | `/api/users/{id}` | –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **.NET 9 / ASP.NET Core**
- **Entity Framework Core (PostgreSQL)**
- **Scalar (OpenAPI)**
- **JWT Authentication**
- **Microservices Architecture**
- **REST API**

---
